<table class="table">
    <tr class="table__row table__row--head" *ngIf="tableType === 'collections'; else singleCollection">
      <ng-container *ngFor="let column of columns">
        <th class="table__heading">
          {{ column.toUpperCase() }}
        </th>
      </ng-container>
    </tr>
    <ng-template #singleCollection>
      <tr class="table__row table__row--head" *ngIf="isFavoritesLoaded">
        <ng-container *ngFor="let column of columns">
          <th class="table__heading">
            {{ column.toUpperCase() }}
          </th>
        </ng-container>
      </tr>
    </ng-template>

    <ng-container *ngIf="tableType === 'collections'; else singleCollectionRows">
      <tr class="table__row table__row--hover" *ngFor="let collection of data; let i = index" [routerLink]="['/app/collection', collection.id]">
        <td class="table__item ">
          <div class="collection_index">
            <p> {{i + 1}} </p>
            <img class="table__item__image"
             src="{{ collection.imageMongoRef !== null ? getAvatarUrlByMongoRef(collection.imageMongoRef) : '/assets/medias/no_picture.png' }}"
             alt="collection avatar">
          </div>
        </td>
        <td class="table__item table__item--stretched">
          <div class="collection_description">
            <p class="collection_title"> {{ collection.name }}</p>
            <p class="collection_songs_count"> {{ collection.tracks.length }} songs </p>
          </div>
        </td>
        <td class="table__item table__item--stretched">
          {{ collection.type }}
        </td>
        <td class="table__item table__item--stretched">
          {{ collection.views}}
        </td>
        <td class="table__item table__item--stretched">
          {{ msToHMS(collection.duration) }}
        </td>
        <td class="table__item table__item--stretched">
          {{ convertDate(collection.publishedDate) }}
        </td>
      </tr>
    </ng-container>
    <ng-template #singleCollectionRows>
      <ng-container *ngIf="isFavoritesLoaded">
        <tr class="table__row table__row--hover"
          (mouseover)="currentlyHoveredTrackId=track.id"
          (mouseout)="currentlyHoveredTrackId=undefined"
          *ngFor="let track of data.tracks; let i = index">
          <td class="table__item ">
            <div class="collection_index">
              <p> {{i}} </p>
            </div>
            <!-- play-button__hide -->
            <div [class]="isControlButtonShouldBeHide(track.id) ? ' control-button play-button play-button__hide' : 'control-button play-button'"
              #controlButton [id]="'ctrl_btn_track_'+track.id"
              (click)="togglePlay(track.id, i)">
              <app-icon #controlButtonIcon [id]="'icon_track_'+track.id" class="icon" [icon]="getControlButtonType(track.id)"></app-icon>
            </div>
          </td>
          <td class="table__item">
            <div class="track_description">
              <p class="track_title"> {{ track.name }}</p>
              <p class="track_artists">{{ artistsToText(track.artists) }}</p>
            </div>
          </td>
          <td class="table__item">
            {{ track.views }}
          </td>
          <td class="table__item">
            {{ msToHMS(track.duration) }}
          </td>
          <td class="table__item table__item--stretched">
            <div class="published_column_container">
              <div class="published">{{convertDate(track.publishedDate) }} </div>
              <div class="follow_delete_btns_container">
                <div><app-heart-btn [favorites]="userFavorites!" [trackId]="track.id"></app-heart-btn></div>
                <button class="delete-btn" (click)="deleteBtn(track.id)">Delete</button>
              </div>
            </div>
          </td>
        </tr>
      </ng-container>
    </ng-template>
  </table>
